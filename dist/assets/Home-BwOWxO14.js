import{f as h,g as v,e as p}from"./spotify-BsK0-SeL.js";import{_ as m,c as o,a as u,b as t,F as w,r as f,d as _,o as n,n as k,e as y,w as g,t as i}from"./index-COyHx-q_.js";const T={name:"SpotifyTracks",data(){return{accessToken:"",events:p,tracks:[]}},async mounted(){await this.getAccessToken(),await this.fetchTracks(),this.setupHorizontalScroll(),await this.$nextTick(()=>{window.scrollTo({left:200,behavior:"instant"})})},beforeDestroy(){window.removeEventListener("wheel",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{async getAccessToken(){this.accessToken=await v()},async fetchTracks(){for(const e of this.events)try{const a=await h(e.trackId,this.accessToken);this.tracks.push({...a,description:e.description,title:e.title,year:e.year})}catch(a){console.error(`Error fetching track ${e.trackId}:`,a)}},setupHorizontalScroll(){window.addEventListener("wheel",this.handleScroll,{passive:!1}),window.addEventListener("resize",this.handleResize)},handleScroll(e){if(window.innerWidth>768){e.preventDefault();const a=e.deltaY*.8;window.scrollBy(a,0)}},handleResize(){window.innerWidth<=768?window.scrollTo({left:0,top:0,behavior:"smooth"}):window.scrollTo({left:200,top:0,behavior:"smooth"})}}},S={class:"timeline"},b=u('<div class="animated-background" data-v-009462c4><div class="shape circle-1" data-v-009462c4></div><div class="shape circle-2" data-v-009462c4></div><div class="shape triangle-1" data-v-009462c4></div><div class="shape triangle-2" data-v-009462c4></div><div class="shape square-1" data-v-009462c4></div><div class="shape square-2" data-v-009462c4></div><div class="shape diamond-1" data-v-009462c4></div><div class="shape diamond-2" data-v-009462c4></div><div class="shape hexagon-1" data-v-009462c4></div><div class="shape line-1" data-v-009462c4></div><div class="shape line-2" data-v-009462c4></div></div>',1),z={class:"timeline-content"},L=["src"],x={class:"track-info"};function E(e,a,A,R,d,$){const r=_("RouterLink");return n(),o("div",S,[b,t("div",z,[(n(!0),o(w,null,f(d.tracks,(s,l)=>(n(),o("div",{class:k(["content",l%2===0?"right":"left"]),key:s.id},[y(r,{to:{name:"track",params:{id:s.id}}},{default:g(()=>{var c;return[t("img",{src:(c=s.album.images[0])==null?void 0:c.url,alt:"Album Cover"},null,8,L),t("h2",null,i(s.year),1),t("h3",null,i(s.title),1),t("h4",null,i(s.description),1),t("div",x,[t("h5",null,i(s.name),1),t("h5",null,"by "+i(s.artists[0].name),1)])]}),_:2},1032,["to"])],2))),128))])])}const D=m(T,[["render",E],["__scopeId","data-v-009462c4"]]);export{D as default};
