import{e as h,g as v,f as p}from"./spotify-0VoRSHOb.js";import{_ as m,c as o,a as s,F as u,r as w,b as f,o as n,n as _,d as k,w as y,e as g,t as i}from"./index-hULMkD-6.js";const T={name:"SpotifyTracks",data(){return{accessToken:"",events:h,tracks:[]}},async mounted(){await this.getAccessToken(),await this.fetchTracks(),this.setupHorizontalScroll(),await this.$nextTick(()=>{window.scrollTo({left:200,behavior:"instant"})})},beforeDestroy(){window.removeEventListener("wheel",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{async getAccessToken(){this.accessToken=await v()},async fetchTracks(){for(const e of this.events)try{const t=await p(e.trackId,this.accessToken);this.tracks.push({...t,description:e.description,title:e.title,year:e.year,trackId:e.trackId})}catch(t){console.error(`Error fetching track ${e.trackId}:`,t)}},setupHorizontalScroll(){window.addEventListener("wheel",this.handleScroll,{passive:!1}),window.addEventListener("resize",this.handleResize)},handleScroll(e){if(window.innerWidth>768){e.preventDefault();const t=e.deltaY*.8;window.scrollBy(t,0)}},handleResize(){window.innerWidth<=768?window.scrollTo({left:0,top:0,behavior:"smooth"}):window.scrollTo({left:200,top:0,behavior:"smooth"})}}},S={class:"timeline"},b=f('<div class="animated-background" data-v-108da878><div class="shape circle-1" data-v-108da878></div><div class="shape circle-2" data-v-108da878></div><div class="shape triangle-1" data-v-108da878></div><div class="shape triangle-2" data-v-108da878></div><div class="shape square-1" data-v-108da878></div><div class="shape square-2" data-v-108da878></div><div class="shape diamond-1" data-v-108da878></div><div class="shape diamond-2" data-v-108da878></div><div class="shape hexagon-1" data-v-108da878></div><div class="shape line-1" data-v-108da878></div><div class="shape line-2" data-v-108da878></div></div>',1),z={class:"timeline-content"},L=["src"],x={class:"track-info"};function E(e,t,I,A,r,R){const c=g("RouterLink");return n(),o("div",S,[b,s("div",z,[(n(!0),o(u,null,w(r.tracks,(a,l)=>(n(),o("div",{class:_(["content",l%2===0?"right":"left"]),key:a.id},[k(c,{to:{name:"track",params:{id:a.trackId}}},{default:y(()=>{var d;return[s("img",{src:(d=a.album.images[0])==null?void 0:d.url,alt:"Album Cover"},null,8,L),s("h2",null,i(a.year),1),s("h3",null,i(a.title),1),s("h4",null,i(a.description),1),s("div",x,[s("h5",null,i(a.name),1),s("h5",null,"by "+i(a.artists[0].name),1)])]}),_:2},1032,["to"])],2))),128))])])}const C=m(T,[["render",E],["__scopeId","data-v-108da878"]]);export{C as default};
