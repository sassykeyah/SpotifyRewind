import{g as p,f as u,a as g}from"./spotify-BcW-KKM3.js";import{_ as m,c,a as s,t as i,f as y,g as v,b as T,o,p as b,h as I}from"./index-C4KdJvlH.js";const B={name:"Detail",props:["id"],data(){return{accessToken:"",track:null,isLoading:!0,error:null}},async mounted(){await this.getAccessToken(),await this.fetchTrack()},methods:{async getAccessToken(){this.accessToken=await p()},async fetchTrack(){this.isLoading=!0,this.error=null;try{const e=await u(this.id,this.accessToken);this.track=e,console.log("Track loaded:",e)}catch(e){console.error(`Error fetching track ${this.id}:`,e),this.error=e.message}finally{this.isLoading=!1}},getEventByTrackId(e){return g(e)}}},E=e=>(b("data-v-df83ff71"),e=e(),I(),e),S={class:"item"},w=T('<div class="animated-background" data-v-df83ff71><div class="shape circle-1" data-v-df83ff71></div><div class="shape circle-2" data-v-df83ff71></div><div class="shape triangle-1" data-v-df83ff71></div><div class="shape triangle-2" data-v-df83ff71></div><div class="shape square-1" data-v-df83ff71></div><div class="shape square-2" data-v-df83ff71></div><div class="shape diamond-1" data-v-df83ff71></div><div class="shape diamond-2" data-v-df83ff71></div><div class="shape hexagon-1" data-v-df83ff71></div><div class="shape line-1" data-v-df83ff71></div><div class="shape line-2" data-v-df83ff71></div></div>',1),x={key:0,class:"loading"},A=E(()=>s("p",null,"Loading track...",-1)),L=[A],N={key:1,class:"error"},V={key:2},D={class:"year-section"},U={class:"year"},q={class:"track-details"},C={class:"two-column-layout"},j={class:"event-column"},O=["src","alt"],R={class:"event-info"},z={class:"event-title"},F={class:"description"},G={class:"caption"},H={class:"spotify-column"},J=["src","alt"],K={class:"spotify-info"},M={class:"artist"},P={class:"album"},Q={class:"spotify-link-section"},W=["href"],X=["src"];function Y(e,r,Z,$,t,a){var d,n,l,f,h,_;return o(),c("div",S,[w,t.isLoading?(o(),c("div",x,L)):t.error?(o(),c("div",N,[s("p",null,"Error: "+i(t.error),1),s("button",{onClick:r[0]||(r[0]=(...k)=>a.fetchTrack&&a.fetchTrack(...k))},"Retry")])):t.track?(o(),c("div",V,[s("div",D,[s("h2",U,i((d=a.getEventByTrackId(this.id))==null?void 0:d.year),1)]),s("div",q,[s("div",C,[s("div",j,[s("img",{src:(n=a.getEventByTrackId(this.id))==null?void 0:n.imageUrl,alt:(l=a.getEventByTrackId(this.id))==null?void 0:l.imageAlt,class:"event-image"},null,8,O),s("div",R,[s("p",z,i((f=a.getEventByTrackId(this.id))==null?void 0:f.title),1),s("p",F,i((h=a.getEventByTrackId(this.id))==null?void 0:h.description),1),s("p",G,i((_=a.getEventByTrackId(this.id))==null?void 0:_.caption),1)])]),s("div",H,[s("img",{src:t.track.album&&t.track.album.images[0]?t.track.album.images[0].url:"",alt:t.track.name,class:"spotify-image"},null,8,J),s("div",K,[s("h3",null,i(t.track.name),1),s("p",M,"by "+i(t.track.artists&&t.track.artists[0]?t.track.artists[0].name:"Unknown Artist"),1),s("p",P,"Album: "+i(t.track.album?t.track.album.name:"Unknown Album"),1)])])]),s("div",Q,[t.track.external_urls&&t.track.external_urls.spotify?(o(),c("a",{key:0,href:t.track.external_urls.spotify,target:"_blank",class:"spotify-link"},[s("img",{src:`${e.$router.options.history.base}images/SpotifyIcon.jpg`,alt:"Spotify Logo",class:"spotify-logo"},null,8,X),y(" Open in Spotify ")],8,W)):v("",!0)])])])):v("",!0)])}const es=m(B,[["render",Y],["__scopeId","data-v-df83ff71"]]);export{es as default};
