import{g,f as u,a as y}from"./spotify-DHznY7Xx.js";import{_ as f,c,a as s,t as i,f as b,g as k,b as T,o,p as I,h as B}from"./index-DOcVHj72.js";const E="/SpotifyRewind/images/SpotifyIcon.jpg",S={name:"Detail",props:["id"],data(){return{accessToken:"",track:null,isLoading:!0,error:null}},async mounted(){await this.getAccessToken(),await this.fetchTrack()},methods:{async getAccessToken(){this.accessToken=await g()},async fetchTrack(){this.isLoading=!0,this.error=null;try{const e=await u(this.id,this.accessToken);this.track=e,console.log("Track loaded:",e)}catch(e){console.error(`Error fetching track ${this.id}:`,e),this.error=e.message}finally{this.isLoading=!1}},getEventByTrackId(e){return y(e)}}},p=e=>(I("data-v-4676b815"),e=e(),B(),e),w={class:"item"},x=T('<div class="animated-background" data-v-4676b815><div class="shape circle-1" data-v-4676b815></div><div class="shape circle-2" data-v-4676b815></div><div class="shape triangle-1" data-v-4676b815></div><div class="shape triangle-2" data-v-4676b815></div><div class="shape square-1" data-v-4676b815></div><div class="shape square-2" data-v-4676b815></div><div class="shape diamond-1" data-v-4676b815></div><div class="shape diamond-2" data-v-4676b815></div><div class="shape hexagon-1" data-v-4676b815></div><div class="shape line-1" data-v-4676b815></div><div class="shape line-2" data-v-4676b815></div></div>',1),A={key:0,class:"loading"},L=p(()=>s("p",null,"Loading track...",-1)),N=[L],V={key:1,class:"error"},D={key:2},U={class:"year-section"},q={class:"year"},C={class:"track-details"},R={class:"two-column-layout"},j={class:"event-column"},O=["src","alt"],z={class:"event-info"},F={class:"event-title"},G={class:"description"},H={class:"caption"},J={class:"spotify-column"},K=["src","alt"],M={class:"spotify-info"},P={class:"artist"},Q={class:"album"},W={class:"spotify-link-section"},X=["href"],Y=p(()=>s("img",{src:E,alt:"Spotify Logo",class:"spotify-logo"},null,-1));function Z(e,r,$,ss,t,a){var n,d,l,h,_,v;return o(),c("div",w,[x,t.isLoading?(o(),c("div",A,N)):t.error?(o(),c("div",V,[s("p",null,"Error: "+i(t.error),1),s("button",{onClick:r[0]||(r[0]=(...m)=>a.fetchTrack&&a.fetchTrack(...m))},"Retry")])):t.track?(o(),c("div",D,[s("div",U,[s("h2",q,i((n=a.getEventByTrackId(this.id))==null?void 0:n.year),1)]),s("div",C,[s("div",R,[s("div",j,[s("img",{src:(d=a.getEventByTrackId(this.id))==null?void 0:d.imageUrl,alt:(l=a.getEventByTrackId(this.id))==null?void 0:l.imageAlt,class:"event-image"},null,8,O),s("div",z,[s("p",F,i((h=a.getEventByTrackId(this.id))==null?void 0:h.title),1),s("p",G,i((_=a.getEventByTrackId(this.id))==null?void 0:_.description),1),s("p",H,i((v=a.getEventByTrackId(this.id))==null?void 0:v.caption),1)])]),s("div",J,[s("img",{src:t.track.album&&t.track.album.images[0]?t.track.album.images[0].url:"",alt:t.track.name,class:"spotify-image"},null,8,K),s("div",M,[s("h3",null,i(t.track.name),1),s("p",P,"by "+i(t.track.artists&&t.track.artists[0]?t.track.artists[0].name:"Unknown Artist"),1),s("p",Q,"Album: "+i(t.track.album?t.track.album.name:"Unknown Album"),1)])])]),s("div",W,[t.track.external_urls&&t.track.external_urls.spotify?(o(),c("a",{key:0,href:t.track.external_urls.spotify,target:"_blank",class:"spotify-link"},[Y,b(" Open in Spotify ")],8,X)):k("",!0)])])])):k("",!0)])}const as=f(S,[["render",Z],["__scopeId","data-v-4676b815"]]);export{as as default};
