import{e as v,g as f,f as p}from"./spotify-0VoRSHOb.js";import{_ as m,c as o,a as s,F as u,r as w,b as c,o as n,n as _,d as k,w as y,e as g,t as i}from"./index-IF3mwsl7.js";const T={name:"SpotifyTracks",data(){return{accessToken:"",events:v,tracks:[]}},async mounted(){await this.getAccessToken(),await this.fetchTracks(),this.setupHorizontalScroll(),await this.$nextTick(()=>{window.scrollTo({left:200,behavior:"instant"})})},beforeDestroy(){window.removeEventListener("wheel",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{async getAccessToken(){this.accessToken=await f()},async fetchTracks(){for(const e of this.events)try{const a=await p(e.trackId,this.accessToken);this.tracks.push({...a,description:e.description,title:e.title,year:e.year,trackId:e.trackId})}catch(a){console.error(`Error fetching track ${e.trackId}:`,a)}},setupHorizontalScroll(){window.addEventListener("wheel",this.handleScroll,{passive:!1}),window.addEventListener("resize",this.handleResize)},handleScroll(e){if(window.innerWidth>768){e.preventDefault();const a=e.deltaY*.8;window.scrollBy(a,0)}},handleResize(){window.innerWidth<=768?window.scrollTo({left:0,top:0,behavior:"smooth"}):window.scrollTo({left:200,top:0,behavior:"smooth"})}}},S={class:"timeline"},b=c('<div class="animated-background" data-v-6f337150><div class="shape circle-1" data-v-6f337150></div><div class="shape circle-2" data-v-6f337150></div><div class="shape triangle-1" data-v-6f337150></div><div class="shape triangle-2" data-v-6f337150></div><div class="shape square-1" data-v-6f337150></div><div class="shape square-2" data-v-6f337150></div><div class="shape diamond-1" data-v-6f337150></div><div class="shape diamond-2" data-v-6f337150></div><div class="shape hexagon-1" data-v-6f337150></div><div class="shape line-1" data-v-6f337150></div><div class="shape line-2" data-v-6f337150></div></div>',1),z={class:"timeline-content"},x=c('<div class="content intro-timeline-card" data-v-6f337150><div class="intro-content" data-v-6f337150><h1 data-v-6f337150>Spotify Rewind</h1><p data-v-6f337150>Take a trip through Australia&#39;s most significant historical moments, and the most popular songs from that year. From the 1956 Melbourne Olympics to the 2023 Voice to Parliament referendum, discover how our nations story can be emulated through the connection of music and history.</p><div class="scroll-instruction" data-v-6f337150><span class="desktop-instruction" data-v-6f337150>Scroll horizontally to explore the timeline</span><span class="mobile-instruction" data-v-6f337150>Scroll down to explore the timeline</span></div></div></div>',1),L=["src"],A={class:"track-info"};function E(e,a,I,R,d,$){const l=g("RouterLink");return n(),o("div",S,[b,s("div",z,[x,(n(!0),o(u,null,w(d.tracks,(t,h)=>(n(),o("div",{class:_(["content",h%2===0?"right":"left"]),key:t.id},[k(l,{to:{name:"track",params:{id:t.trackId}}},{default:y(()=>{var r;return[s("img",{src:(r=t.album.images[0])==null?void 0:r.url,alt:"Album Cover"},null,8,L),s("h2",null,i(t.year),1),s("h3",null,i(t.title),1),s("h4",null,i(t.description),1),s("div",A,[s("h5",null,i(t.name),1),s("h5",null,"by "+i(t.artists[0].name),1)])]}),_:2},1032,["to"])],2))),128))])])}const V=m(T,[["render",E],["__scopeId","data-v-6f337150"]]);export{V as default};
